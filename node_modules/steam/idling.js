    var Steam = require('steam');
    var fs = require('fs');
    var bot = new Steam.SteamClient();
     
    if (fs.existsSync('sentryfile'))
    {
        var sentry = fs.readFileSync('sentryfile');
        console.log('[STEAM] SentryFile existant: Connexion ');
        bot.logOn({
          accountName: '',
          password: '',
          shaSentryfile: sentry
        });
    }
    else
    {
        console.log('[STEAM] SentryFile inexistant: Connexion');
        bot.logOn({
          accountName: '',
          password: '',
          authCode: ''
        });
    }
    bot.on('loggedOn', function() {
        console.log('[STEAM] Connecté.');
        bot.setPersonaState(Steam.EPersonaState.Online);
        //Emule les jeux suivants.
        //440=tf2
        //550=l4d2 
        //730=csgo
        //570=dota2
        // 271590=gta v
        //290080=life is feodal 
        bot.gamesPlayed([271590, 550, 730, 570, 290080]);
    });
     
    bot.on('sentry', function(sentryHash)
    {//Le sentryfile est le fichier créer après 
    //avoir passé la vérification de SteamGuard
        console.log('[STEAM] Sentry file reçu.');
        fs.writeFile('sentryfile',sentryHash,function(err) {
        if(err){
          console.log(err);
        } else {
          console.log('[FS] Sauvegarde Sentry File.');
        }});
    });
     
    //Erreurs de connexions
    bot.on('error', function(e) {
    console.log('[STEAM] ERREUR - Connexion impossible');
        if (e.eresult == Steam.EResult.InvalidPassword)
        {
        console.log('Raison: Mot de passe invalide');
        }
        else if (e.eresult == Steam.EResult.AlreadyLoggedInElsewhere)
        {
        console.log('Raison: Déjà connecté');
        }
        else if (e.eresult == Steam.EResult.AccountLogonDenied)
        {
        console.log('Raison: Connexion bloqué - steam guard');
        }
    })
